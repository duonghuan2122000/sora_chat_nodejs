<!-- 
    Giao di·ªán t·ª´ng d√≤ng tin nh·∫Øn
    @author dbhuan 01.01.2026
-->
<template>
  <div class="flex flex-row items-end gap-3" :class="{ 'flex-row-reverse': isMessageCurrentUser }">
    <div class="flex-none w-[28px] h-[28px]">
      <div class="relative">
        <img
          src="https://cdn2.tuoitre.vn/zoom/515_322/471584752817336320/data/teen360/news/2020/09/01/59881/1598972593_118265345_2621091828152910_2700791632228574126_n.jpg"
          alt=""
          class="w-[28px] h-[28px] rounded-[50%]"
          title="D∆∞∆°ng Hu√¢n"
        />
      </div>
    </div>
    <div class="flex flex-col gap-2">
      <div v-if="!isMessageCurrentUser" class="text-sm text-gray-400">D∆∞∆°ng Hu√¢n</div>
      <div
        class="flex flex-row items-center gap-2"
        :class="{ 'flex-row-reverse': isMessageCurrentUser }"
      >
        <div
          class="border border-gray-200 rounded-[8px] px-3 py-2 inline-block max-w-[400px]"
          :class="{ 'bg-green-100': isMessageCurrentUser, 'bg-gray-100': !isMessageCurrentUser }"
        >
          <ContextMenu>
            <ContextMenuTrigger>
              <div class="relative">
                <div title="Th·ª© 5 - 01/01/2026">
                  Xin ch√†o sfsfsfs fs sfsfsf s sfdsfdsf sf sfsdfsdfsdf sf sfsfdsfsf sf sfsf
                  &#128512; fsfs sfsf sfsf sfsfsfs sf sfsfsfsfs sf sfsdfsdf sf sdfsdfsfs fs
                  fsfsdfsdf sf sfsfsf
                </div>
                <div class="absolute bottom-[-20px] right-[-5px] flex flex-row">
                  <div class="border border-gray-100 rounded-[50%] cursor-pointer bg-white">üòÇ</div>
                </div>
              </div>
            </ContextMenuTrigger>
            <ContextMenuContent>
              <div class="flex flex-col flex-wrap gap-1 p-2">
                <Popover>
                  <PopoverTrigger as-child>
                    <Button variant="outline"> B√†y t·ªè c·∫£m x√∫c </Button>
                  </PopoverTrigger>
                  <PopoverContent class="w-[100px]">
                    <div class="flex flex-row">
                      <div class="cursor-pointer">üëç</div>
                      <div class="cursor-pointer">üòÇ</div>
                    </div>
                  </PopoverContent>
                </Popover>
                <Button variant="outline"> Tr·∫£ l·ªùi </Button>
              </div>
            </ContextMenuContent>
          </ContextMenu>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { Button } from "@/components/ui/button";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { ContextMenu, ContextMenuContent, ContextMenuTrigger } from "@/components/ui/context-menu";
import { computed } from "vue";

const props = defineProps({
  /**
   * C·ªù cho bi·∫øt c√≥ ph·∫£i l√† message c·ªßa user hi·ªán t·∫°i
   * M·∫∑c ƒë·ªãnh: false
   */
  isMessageCurrentUser: {
    type: Boolean,
    default: false,
  },
});

const isMessageCurrentUser = computed(() => props.isMessageCurrentUser);
</script>
